<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Reviews - Auiraphila Bakery</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/responsive.css">
    <link rel="stylesheet" href="../css/animations.css">
    <link rel="stylesheet" href="../css/reviews.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
        <script src="../js/auth.js" type="module"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <!-- Header Section -->
    <header>
        <div class="logo">
            <a href="../index.html"><img src="../assets/images/logo/logo.png" alt="Auiraphila Bakery Logo"></a>
        </div>
        <nav class="desktop-nav">
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="categories.html">Categories</a></li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a href="speciality-cakes.html">Speciality Cakes</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="reviews.html" class="active">Reviews</a></li>
            </ul>
        </nav>
        <div class="header-right">
            <div class="search-bar">
                <input type="text" placeholder="Search...">
                <button><i class="fas fa-search"></i></button>
            </div>
            <div class="user-account">
                <a href="login.html"><i class="fas fa-user"></i></a>
            </div>
            <div class="cart">
                <a href="cart.html"><i class="fas fa-shopping-cart"></i><span class="cart-count">0</span></a>
            </div>
        </div>
        <div class="hamburger-menu">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>
        <nav class="mobile-nav">
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="categories.html">Categories</a></li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a href="speciality-cakes.html">Speciality Cakes</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="reviews.html" class="active">Reviews</a></li>
                <li><a href="cart.html">Cart</a></li>
                <li><a href="login.html">Account</a></li>
            </ul>
        </nav>
    </header>

    <!-- Page Banner -->
    <section class="page-banner">
        <div class="container">
            <h1>All Customer Reviews</h1>
            <p class="highlight-text">See what our valued customers are saying about our products and services</p>
        </div>
    </section>

    <!-- All Reviews Section -->
    <section class="reviews-section">
        <div class="container">
            <!-- Reviews Summary -->
            <!-- <div class="reviews-summary">
                <div class="average-rating">
                    <h2>Customer Reviews</h2>
                    <div class="rating-number">4.8</div>
                    <div class="stars">★★★★★</div>
                    <p class="total-reviews">Based on 42 reviews</p>
                </div>
                <div class="rating-breakdown">
                    <div class="rating-bar">
                        <span class="rating-label">5 Stars</span>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: 75%"></div>
                        </div>
                        <span class="rating-count">32</span>
                    </div>
                    <div class="rating-bar">
                        <span class="rating-label">4 Stars</span>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: 15%"></div>
                        </div>
                        <span class="rating-count">6</span>
                    </div>
                    <div class="rating-bar">
                        <span class="rating-label">3 Stars</span>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: 5%"></div>
                        </div>
                        <span class="rating-count">2</span>
                    </div>
                    <div class="rating-bar">
                        <span class="rating-label">2 Stars</span>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: 2%"></div>
                        </div>
                        <span class="rating-count">1</span>
                    </div>
                    <div class="rating-bar">
                        <span class="rating-label">1 Star</span>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: 3%"></div>
                        </div>
                        <span class="rating-count">1</span>
                    </div>
                </div>
            </div> -->

            <!-- Filter and Sort -->
            <div class="reviews-filter">
                <div class="filter-options">
                    <button class="filter-btn active">All Reviews</button>
                    <button class="filter-btn">Verified Purchases</button>
                    <button class="filter-btn">5 Star</button>
                </div>
                <div class="sort-options">
                    <span>Sort by:</span>
                    <select class="sort-select" id="sortReviews">
                        <option value="newest">Most Recent</option>
                        <option value="highest">Highest Rated</option>
                        <option value="lowest">Lowest Rated</option>
                        <option value="helpful">Most Helpful</option>
                    </select>
                </div>
            </div>
            
            <!-- Reviews Count -->
            <div class="reviews-count" id="reviewsCount">
                Showing <span id="reviewsShowing">0</span> of <span id="reviewsTotal">0</span> reviews
            </div>

            <!-- Reviews Grid -->
            <div class="reviews-grid" id="allReviewsContainer">
                <!-- Reviews will be loaded here by JavaScript -->
            </div>

            <!-- Back to Reviews -->
            <div class="load-more">
                <a href="reviews.html" class="btn btn-outline">Back to Reviews</a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <!-- <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>About Us</h3>
                <p>Delivering the finest baked goods with love and tradition since 2010. Our passion is to bring joy to your special moments.</p>
            </div>
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="categories.html">Products</a></li>
                    <li><a href="gallery.html">Gallery</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Contact Info</h3>
                <div class="contact-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Auirphila Bakery, opposite VM Polytechnic, Narsinghpur.</span>
                </div>
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <span>9131688187</span>
                </div>
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <span>info@auirphilabakery.com</span>
                </div>
            </div>
            <div class="footer-column">
                <h3>Newsletter</h3>
                <p>Subscribe for updates on new products and offers.</p>
                <form class="newsletter-form">
                    <input type="email" placeholder="Your Email Address" required>
                    <button type="submit">Subscribe</button>
                </form>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2023 AuIrphila Bakery. All Rights Reserved.</p>
        </div>
    </footer> -->

    <!-- Scripts -->
    <script src="../js/main.js"></script>
    <script src="../js/cart.js"></script>
    
    <!-- All Reviews Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const reviewsContainer = document.getElementById('allReviewsContainer');
            const sortSelect = document.getElementById('sortReviews');
            const filterBtns = document.querySelectorAll('.filter-btn');
            const reviewsShowingEl = document.getElementById('reviewsShowing');
            const reviewsTotalEl = document.getElementById('reviewsTotal');
            
            let currentFilter = 'all';
            let currentSort = 'newest';
            
            // Get reviews from localStorage
            function getReviews() {
                // Get any stored reviews
                const storedReviews = JSON.parse(localStorage.getItem('bakeryReviews') || '[]');
                
                // Sample default reviews (in a real app, these would come from a database)
                const defaultReviews = [
                    {
                        id: 1,
                        name: 'Sarah Johnson',
                        rating: 5,
                        title: 'Absolutely Divine Pastries!',
                        review: 'The pastries at Auiraphila Bakery are absolutely divine! The croissants are flaky and buttery, just like in Paris. I highly recommend their chocolate eclairs too - simply perfect!',
                        date: 'June 20, 2025',
                        verified: true
                    },
                    {
                        id: 2,
                        name: 'Michael Chen',
                        rating: 5,
                        title: 'Best Birthday Cake Ever',
                        review: 'Ordered a custom birthday cake for my daughter and it exceeded all expectations. Not only was it beautiful, but it tasted amazing too! Everyone at the party was impressed.',
                        date: 'June 15, 2025',
                        verified: true
                    },
                    {
                        id: 3,
                        name: 'Emily Rodriguez',
                        rating: 4,
                        title: 'Great Selection of Breads',
                        review: 'I love the variety of artisan breads available. The sourdough is exceptional! Would give 5 stars but sometimes they sell out of my favorites early in the day.',
                        date: 'June 10, 2025',
                        verified: true
                    },
                    {
                        id: 4,
                        name: 'David Wilson',
                        rating: 5,
                        title: 'Outstanding Customer Service',
                        review: 'Not only are the baked goods amazing, but the staff is incredibly friendly and helpful. They went above and beyond to accommodate my last-minute order.',
                        date: 'June 5, 2025',
                        verified: true
                    },
                    {
                        id: 5,
                        name: 'Sophia Patel',
                        rating: 3,
                        title: 'Good but Pricey',
                        review: 'The quality is undeniably good, but I find the prices to be on the higher side compared to other local bakeries. Still, their croissants are worth the splurge occasionally.',
                        date: 'May 30, 2025',
                        verified: false
                    }
                ];
                
                // Combine stored and default reviews
                let allReviews = [...storedReviews, ...defaultReviews];
                
                // Remove duplicates (in case default reviews were stored)
                const uniqueReviews = [];
                const ids = new Set();
                
                allReviews.forEach(review => {
                    if (!ids.has(review.id)) {
                        ids.add(review.id);
                        uniqueReviews.push(review);
                    }
                });
                
                return uniqueReviews;
            }
            
            // Display reviews
            function displayReviews(sortBy = 'newest') {
                let reviews = getReviews();
                
                // Sort reviews
                switch(sortBy) {
                    case 'newest':
                        reviews.sort((a, b) => new Date(b.date) - new Date(a.date));
                        break;
                    case 'highest':
                        reviews.sort((a, b) => b.rating - a.rating);
                        break;
                    case 'lowest':
                        reviews.sort((a, b) => a.rating - b.rating);
                        break;
                }
                
                // Limit to 20 reviews
                reviews = reviews.slice(0, 20);
                
                // Clear container
                reviewsContainer.innerHTML = '';
                
                // Display reviews
                reviews.forEach(review => {
                    // Create review card
                    const reviewCard = document.createElement('div');
                    reviewCard.className = 'review-card animate-fade-in';
                    
                    // Get initials for avatar
                    const initials = review.name.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2);
                    
                    // Create stars HTML
                    const stars = '★'.repeat(review.rating) + '☆'.repeat(5 - review.rating);
                    
                    // Set review card HTML
                    reviewCard.innerHTML = `
                        <div class="review-header">
                            <div class="reviewer-info">
                                <div class="reviewer-avatar">${initials}</div>
                                <div class="reviewer-details">
                                    <h4>${review.name}</h4>
                                    <p class="review-date">${review.date}</p>
                                </div>
                            </div>
                            <div class="review-source">
                                <i class="fas fa-user-check" title="Verified Customer"></i>
                            </div>
                        </div>
                        <div class="review-rating">
                            <div class="stars">${stars}</div>
                            ${review.verified ? '<div class="verified-badge"><i class="fas fa-check-circle"></i> Verified Purchase</div>' : ''}
                        </div>
                        <h3 class="review-title">${review.title}</h3>
                        <p class="review-text">${review.review}</p>
                    `;
                    
                    // Add to container
                    reviewsContainer.appendChild(reviewCard);
                });
                
                // Update review count
                updateReviewCount(reviews.length);
                
                // Animate reviews
                setTimeout(() => {
                    document.querySelectorAll('.review-card').forEach((card, index) => {
                        setTimeout(() => {
                            card.style.opacity = 1;
                        }, index * 100);
                    });
                }, 100);
            }
            
            // Update review count and summary
            function updateReviewCount(count) {
                const totalReviewsElement = document.querySelector('.total-reviews');
                if (totalReviewsElement) {
                    totalReviewsElement.textContent = `Based on ${count} reviews`;
                }
            }
            
            // Sort reviews when sort option changes
            sortSelect.addEventListener('change', function() {
                displayReviews(this.value);
            });
            
            // Initial display
            displayReviews();
        });
    </script>
    <script src="../js/auth-check.js" type="module"></script>
</body>
</html>
